

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Messiah">
  <meta name="keywords" content="">
  
    <meta name="description" content="React****全家桶(技术栈)第1章：React入门1.1. React简介1.1.1. 官网 英文官网: https:&#x2F;&#x2F;reactjs.org&#x2F;  中文官网: https:&#x2F;&#x2F;react.docschina.org&#x2F;   1.1.2. 介绍描述 用于动态构建用户界面的 JavaScript 库(只关注于视图)  由Facebook开源   1.1.3. React的特点 声明式编码  组件">
<meta property="og:type" content="article">
<meta property="og:title" content="React基础">
<meta property="og:url" content="http://messiahnb.github.io/2024/07/28/React%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Messiah">
<meta property="og:description" content="React****全家桶(技术栈)第1章：React入门1.1. React简介1.1.1. 官网 英文官网: https:&#x2F;&#x2F;reactjs.org&#x2F;  中文官网: https:&#x2F;&#x2F;react.docschina.org&#x2F;   1.1.2. 介绍描述 用于动态构建用户界面的 JavaScript 库(只关注于视图)  由Facebook开源   1.1.3. React的特点 声明式编码  组件">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2024-07-28T04:38:41.000Z">
<meta property="article:modified_time" content="2024-07-28T05:14:22.260Z">
<meta property="article:author" content="Messiah">
<meta name="twitter:card" content="summary_large_image">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>React基础 - Messiah</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"messiahnb.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":1},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Messiah</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="React基础"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-07-28 12:38" pubdate>
          2024-07-28 12:38:41
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          11k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          89 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">React基础</h1>
            
              <p class="note note-info">
                
                  
                    本文最后更新于：2024-07-28 13:14:22
                  
                
              </p>
            
            
              <div class="markdown-body">
                
                <h1 id="React-全家桶-技术栈"><a href="#React-全家桶-技术栈" class="headerlink" title="React****全家桶(技术栈)"></a><strong>React****全家桶(技术栈)</strong></h1><h2 id="第1章：React入门"><a href="#第1章：React入门" class="headerlink" title="第1章：React入门"></a>第1章：React入门</h2><h3 id="1-1-React简介"><a href="#1-1-React简介" class="headerlink" title="1.1. React简介"></a>1.1. React简介</h3><h4 id="1-1-1-官网"><a href="#1-1-1-官网" class="headerlink" title="1.1.1. 官网"></a>1.1.1. 官网</h4><ol>
<li><p>英文官网:<a target="_blank" rel="noopener" href="https://reactjs.org/"> https://reactjs.org/</a></p>
</li>
<li><p>中文官网: <a target="_blank" rel="noopener" href="https://react.docschina.org/">https://react.docschina.org/</a></p>
</li>
</ol>
<h4 id="1-1-2-介绍描述"><a href="#1-1-2-介绍描述" class="headerlink" title="1.1.2. 介绍描述"></a>1.1.2. 介绍描述</h4><ol>
<li><p>用于动态构建用户界面的 JavaScript 库(只关注于视图)</p>
</li>
<li><p>由Facebook开源</p>
</li>
</ol>
<h4 id="1-1-3-React的特点"><a href="#1-1-3-React的特点" class="headerlink" title="1.1.3. React的特点"></a>1.1.3. React的特点</h4><ol>
<li><p>声明式编码</p>
</li>
<li><p>组件化编码</p>
</li>
<li><p>React Native 编写原生应用</p>
</li>
<li><p>高效（优秀的Diffing算法）</p>
</li>
</ol>
<h4 id="1-1-4-React高效的原因"><a href="#1-1-4-React高效的原因" class="headerlink" title="1.1.4. React高效的原因"></a>1.1.4. React高效的原因</h4><ol>
<li><p>使用虚拟(virtual)DOM, 不总是直接操作页面真实DOM。</p>
</li>
<li><p>DOM Diffing算法, 最小化页面重绘。</p>
</li>
</ol>
<h3 id="1-2-React的基本使用"><a href="#1-2-React的基本使用" class="headerlink" title="1.2. React的基本使用"></a>1.2. React的基本使用</h3><h4 id="1-2-1-效果"><a href="#1-2-1-效果" class="headerlink" title="1.2.1. 效果"></a>1.2.1. 效果</h4><p>​                                </p>
<h4 id="1-2-2-相关js库"><a href="#1-2-2-相关js库" class="headerlink" title="1.2.2. 相关js库"></a>1.2.2. 相关js库</h4><ol>
<li><p>react.js：React核心库。</p>
</li>
<li><p>react-dom.js：提供操作DOM的react扩展库。</p>
</li>
<li><p>babel.min.js：解析JSX语法代码转为JS代码的库。</p>
</li>
</ol>
<h4 id="1-2-3-创建虚拟DOM的两种方式"><a href="#1-2-3-创建虚拟DOM的两种方式" class="headerlink" title="1.2.3. 创建虚拟DOM的两种方式"></a>1.2.3. 创建虚拟DOM的两种方式</h4><ol>
<li><p>纯JS方式(一般不用)</p>
</li>
<li><p>JSX方式</p>
</li>
</ol>
<h4 id="1-2-4-虚拟DOM与真实DOM"><a href="#1-2-4-虚拟DOM与真实DOM" class="headerlink" title="1.2.4. 虚拟DOM与真实DOM"></a>1.2.4. 虚拟DOM与真实DOM</h4><ol>
<li>React提供了一些API来创建一种 “特别” 的一般js对象</li>
</ol>
<ul>
<li>const** <strong>VDOM</strong> <strong>&#x3D;</strong> <strong>React</strong><strong>.createElement(‘xx’,{id:’xx’},’xx’)</strong></li>
<li>上面创建的就是一个简单的虚拟DOM对象</li>
</ul>
<ol start="2">
<li><p>虚拟DOM对象最终都会被React转换为真实的DOM</p>
</li>
<li><p>我们编码时基本只需要操作react的虚拟DOM相关数据, react会转换为真实DOM变化而更新界。</p>
</li>
</ol>
<h3 id="1-3-React-JSX"><a href="#1-3-React-JSX" class="headerlink" title="1.3. React JSX"></a>1.3. React JSX</h3><h4 id="1-3-1-效果"><a href="#1-3-1-效果" class="headerlink" title="1.3.1. 效果"></a>1.3.1. 效果</h4><h4 id="1-3-2-JSX"><a href="#1-3-2-JSX" class="headerlink" title="1.3.2. JSX"></a>1.3.2. JSX</h4><ol>
<li><p>全称: JavaScript XML</p>
</li>
<li><p>react定义的一种类似于XML的JS扩展语法: JS + XML本质是<strong>React</strong><strong>.<strong><strong>createElement</strong></strong>(<strong><strong>component</strong></strong>,</strong> <strong>props</strong>**, …<strong><strong>children</strong></strong>)**方法的语法糖</p>
</li>
<li><p>作用: 用来简化创建虚拟DOM</p>
</li>
</ol>
<p>​	1. 写法：<strong>var</strong> <strong>ele</strong> <strong>&#x3D;</strong> **<h1><strong><strong>Hello JSX!</strong></strong></h1>**</p>
<p>​	2.注意1：它不是字符串, 也不是HTML&#x2F;XML标签</p>
<p>​	3.注意2：它最终产生的就是一个JS对象</p>
<p>\4.   标签名任意: HTML标签或其它标签</p>
<p>\5.   标签属性任意: HTML标签属性或其它</p>
<p>\6.   基本语法规则</p>
<p>\1)   遇到 &lt;开头的代码, 以标签的语法解析: html同名标签转换为html同名元素, 其它标签需要特别解析</p>
<p>\2)   遇到以 { 开头的代码，以JS语法解析: 标签中的js表达式必须用{ }包含</p>
<p>\7.   babel.js的作用</p>
<p>\1)   浏览器不能直接解析JSX代码, 需要babel转译为纯JS的代码才能运行</p>
<p>\2)   只要用了JSX，都要加上type&#x3D;”text&#x2F;babel”, 声明需要babel来处理</p>
<h3 id="1-3-3-渲染虚拟DOM-元素"><a href="#1-3-3-渲染虚拟DOM-元素" class="headerlink" title="1.3.3. 渲染虚拟DOM(元素)"></a>1.3.3. 渲染虚拟DOM(元素)</h3><p>\1.   语法: <strong>ReactDOM</strong><strong>.<strong><strong>render</strong></strong>(<strong><strong>virtualDOM</strong></strong>,</strong> <strong>containerDOM</strong><strong>)</strong></p>
<p>\2.   作用: 将虚拟DOM元素渲染到页面中的真实容器DOM中显示</p>
<p>\3.   参数说明</p>
<p>\1)   参数一: 纯js或jsx创建的虚拟dom对象</p>
<p>\2)   参数二: 用来包含虚拟DOM元素的真实dom元素对象(一般是一个div)</p>
<h3 id="1-3-4-JSX练习"><a href="#1-3-4-JSX练习" class="headerlink" title="1.3.4. JSX练习"></a>1.3.4. JSX练习</h3><p>需求: 动态展示如下列表</p>
<h2 id="1-4-模块与组件、模块化与组件化的理解"><a href="#1-4-模块与组件、模块化与组件化的理解" class="headerlink" title="1.4. 模块与组件、模块化与组件化的理解"></a>1.4. 模块与组件、模块化与组件化的理解</h2><h3 id="1-4-1-模块"><a href="#1-4-1-模块" class="headerlink" title="1.4.1. 模块"></a>1.4.1. 模块</h3><p>\1.   理解：向外提供特定功能的js程序, 一般就是一个js文件</p>
<p>\2.   为什么要拆成模块：随着业务逻辑增加，代码越来越多且复杂。</p>
<p>\3.   作用：复用js, 简化js的编写, 提高js运行效率</p>
<h3 id="1-4-2-组件"><a href="#1-4-2-组件" class="headerlink" title="1.4.2. 组件"></a>1.4.2. 组件</h3><p>\1.   理解：用来实现局部功能效果的代码和资源的集合(html&#x2F;css&#x2F;js&#x2F;image等等)</p>
<p>\2.   为什么要用组件： 一个界面的功能更复杂</p>
<p>\3.   作用：复用编码, 简化项目编码, 提高运行效率</p>
<h3 id="1-4-3-模块化"><a href="#1-4-3-模块化" class="headerlink" title="1.4.3. 模块化"></a>1.4.3. 模块化</h3><p>当应用的js都以模块来编写的, 这个应用就是一个模块化的应用</p>
<h3 id="1-4-4-组件化"><a href="#1-4-4-组件化" class="headerlink" title="1.4.4. 组件化"></a>1.4.4. 组件化</h3><p>当应用是以多组件的方式实现, 这个应用就是一个组件化的应用</p>
<p>第2章：React面向组件编程</p>
<h2 id="2-1-基本理解和使用"><a href="#2-1-基本理解和使用" class="headerlink" title="2.1. 基本理解和使用"></a>2.1. 基本理解和使用</h2><h3 id="2-1-1-使用React开发者工具调试"><a href="#2-1-1-使用React开发者工具调试" class="headerlink" title="2.1.1. 使用React开发者工具调试"></a>2.1.1. 使用React开发者工具调试</h3><h3 id="2-1-2-效果"><a href="#2-1-2-效果" class="headerlink" title="2.1.2. 效果"></a>2.1.2. 效果</h3><p>函数式组件：</p>
<p>类式组件：</p>
<h3 id="2-1-3-注意"><a href="#2-1-3-注意" class="headerlink" title="2.1.3. 注意"></a>2.1.3. 注意</h3><p>\1.   组件名必须首字母大写</p>
<p>\2.   虚拟DOM元素只能有一个根元素</p>
<p>\3.   虚拟DOM元素必须有结束标签</p>
<h3 id="2-1-4-渲染类组件标签的基本流程"><a href="#2-1-4-渲染类组件标签的基本流程" class="headerlink" title="2.1.4. 渲染类组件标签的基本流程"></a>2.1.4. 渲染类组件标签的基本流程</h3><p>\1.   React内部会创建组件实例对象</p>
<p>\2.   调用render()得到虚拟DOM, 并解析为真实DOM</p>
<p>\3.   插入到指定的页面元素内部</p>
<h2 id="2-2-组件三大核心属性1-state"><a href="#2-2-组件三大核心属性1-state" class="headerlink" title="2.2. 组件三大核心属性1: state"></a>2.2. 组件三大核心属性1: state</h2><h3 id="2-2-1-效果"><a href="#2-2-1-效果" class="headerlink" title="2.2.1. 效果"></a>2.2.1. 效果</h3><p><em>需求</em><em>:</em> <em>定义一个展示天气信息的组件</em></p>
<p><em>1.</em>   <em>默认展示天气炎热</em> <em>或</em> <em>凉爽</em></p>
<p><em>2.</em>   <em>点击文字切换天气</em></p>
<h3 id="2-2-2-理解"><a href="#2-2-2-理解" class="headerlink" title="2.2.2. 理解"></a>2.2.2. 理解</h3><p>\1.   state是组件对象最重要的属性, 值是对象(可以包含多个key-value的组合)</p>
<p>\2.   组件被称为”状态机”, 通过更新组件的state来更新对应的页面显示(重新渲染组件)</p>
<h3 id="2-2-3-强烈注意"><a href="#2-2-3-强烈注意" class="headerlink" title="2.2.3. 强烈注意"></a>2.2.3. 强烈注意</h3><p>\1.   组件中render方法中的this为组件实例对象</p>
<p>\2.   组件自定义的方法中this为undefined，如何解决？</p>
<p>a)   强制绑定this: 通过函数对象的bind()</p>
<p>b)   箭头函数</p>
<p>\3.   状态数据，不能直接修改或更新</p>
<h2 id="2-3-组件三大核心属性2-props"><a href="#2-3-组件三大核心属性2-props" class="headerlink" title="2.3. 组件三大核心属性2: props"></a>2.3. 组件三大核心属性2: props</h2><h3 id="2-3-1-效果"><a href="#2-3-1-效果" class="headerlink" title="2.3.1. 效果"></a>2.3.1. 效果</h3><p><em>需求</em><em>:</em> <em>自定义用来显示一个人员信息的组件</em></p>
<p><em>1.</em>   <em>姓名必须指定，且为字符串类型；</em></p>
<p><em>2.</em>   <em>性别为字符串类型，如果性别没有指定，默认为男</em></p>
<p><em>3.</em>   <em>年龄为字符串类型，且为数字类型，默认值为**18</em></p>
<h3 id="2-3-2-理解"><a href="#2-3-2-理解" class="headerlink" title="2.3.2. 理解"></a>2.3.2. 理解</h3><p>\1.   每个组件对象都会有props(properties的简写)属性</p>
<p>\2.   组件标签的所有属性都保存在props中</p>
<h3 id="2-3-3-作用"><a href="#2-3-3-作用" class="headerlink" title="2.3.3. 作用"></a>2.3.3. 作用</h3><p>\1.   通过标签属性从组件外向组件内传递变化的数据</p>
<p>\2.   注意: 组件内部不要修改props数据</p>
<h3 id="2-3-4-编码操作"><a href="#2-3-4-编码操作" class="headerlink" title="2.3.4. 编码操作"></a>2.3.4. 编码操作</h3><p>\1.   内部读取某个属性值</p>
<p>​        </p>
<p>​        <strong>this</strong>.<strong>props</strong>.<strong>name</strong>        </p>
<p>\2.   对props中的属性值进行类型限制和必要性限制</p>
<p>第一种方式（React v15.5 开始已弃用）：     </p>
<p>​        <em>Person</em>.<strong>propTypes</strong> &#x3D; {      <strong>name</strong>: <strong>React</strong>.<strong>PropTypes</strong>.<strong>string</strong>.isRequired,      <strong>age</strong>: <strong>React</strong>.<strong>PropTypes</strong>.<strong>number</strong>     }        </p>
<p>第二种方式（新）：使用prop-types库进限制（需要引入prop-types库）</p>
<p>​          </p>
<p>​        <em>Person</em>.<strong>propTypes</strong> &#x3D; {      <strong>name</strong>: <strong>PropTypes</strong>.<strong>string</strong>.isRequired,      <strong>age</strong>: <strong>PropTypes</strong>.<strong>number</strong>.      }        </p>
<p>\3.   扩展属性: 将对象的所有属性通过props传递</p>
<p>​     </p>
<p>​        &lt;**Person** {…***person***}&#x2F;&gt;        </p>
<p>​    </p>
<p>\4.   默认属性值：</p>
<p>​     </p>
<p>​        Person.<strong>defaultProps</strong> &#x3D; {      <strong>age</strong>: 18,      <strong>sex</strong>:**’<strong><strong>男</strong></strong>‘ **    }             </p>
<p>​    </p>
<p>\5.        </p>
<p>​        <strong>constructor</strong>(props){      <strong>super</strong>(props)      <strong>console</strong>.log(props)*&#x2F;&#x2F;<strong>打印所有属性</strong> *    }             </p>
<p>组件类的构造函数</p>
<h2 id="2-4-组件三大核心属性3-refs与事件处理"><a href="#2-4-组件三大核心属性3-refs与事件处理" class="headerlink" title="2.4. 组件三大核心属性3: refs与事件处理"></a>2.4. 组件三大核心属性3: refs与事件处理</h2><h3 id="2-4-1-效果"><a href="#2-4-1-效果" class="headerlink" title="2.4.1. 效果"></a>2.4.1. 效果</h3><p><em>需求</em><em>:</em> <em>自定义组件</em><em>,</em> <em>功能说明如下</em><em>:</em></p>
<p> <em>1.</em> <em>点击按钮</em><em>,</em> <em>提示第一个输入框中的值</em></p>
<p> <em>2.</em> <em>当第<strong>2</strong>个输入框失去焦点时*</em>,* <em>提示这个输入框中的值</em></p>
<p>效果如下：</p>
<h3 id="2-4-2-理解"><a href="#2-4-2-理解" class="headerlink" title="2.4.2. 理解"></a>2.4.2. 理解</h3><p>组件内的标签可以定义ref属性来标识自己</p>
<h3 id="2-4-3-编码"><a href="#2-4-3-编码" class="headerlink" title="2.4.3. 编码"></a>2.4.3. 编码</h3><p>\1.   字符串形式的ref</p>
<p>​     </p>
<p>​        <strong>&lt;input** **ref****&#x3D;****”input1”****&#x2F;&gt;</strong>        </p>
<p>\2.   回调形式的ref</p>
<p>​     </p>
<p>​        <strong>&lt;input** *<em>ref****&#x3D;<strong><strong>{</strong></strong>(<strong><strong>c</strong></strong>)****&#x3D;&gt;</em><em><strong>{<strong><strong>this</strong></strong>.<strong><strong>input1</strong> <strong>&#x3D;</strong> <strong>c</strong></strong>}</strong></em><em>}</em>***&#x2F;&gt;</strong>             </p>
<p>\3.   createRef创建ref容器·</p>
<p>​     </p>
<p>​        <strong>myRef</strong> <strong>&#x3D;</strong> <strong>React</strong><strong>.<strong><strong>createRef</strong></strong>()</strong>     <strong>&lt;input** **ref****&#x3D;****{this****.****myRef****}****&#x2F;&gt;</strong>        </p>
<h3 id="2-4-4-事件处理"><a href="#2-4-4-事件处理" class="headerlink" title="2.4.4. 事件处理"></a>2.4.4. 事件处理</h3><p>\1.   通过onXxx属性指定事件处理函数(注意大小写)</p>
<p>\1)   React使用的是自定义(合成)事件, 而不是使用的原生DOM事件</p>
<p>\2)   React中的事件是通过事件委托方式处理的(委托给组件最外层的元素)</p>
<p>\2.   通过event.target得到发生事件的DOM元素对象</p>
<h2 id="2-5-收集表单数据"><a href="#2-5-收集表单数据" class="headerlink" title="2.5. 收集表单数据"></a>2.5. 收集表单数据</h2><h3 id="2-5-1-效果"><a href="#2-5-1-效果" class="headerlink" title="2.5.1. 效果"></a>2.5.1. 效果</h3><p><em>需求</em><em>:</em> <em>定义一个包含表单的组件</em></p>
<p> <em>输入用户名密码后</em><em>,</em> <em>点击登录提示输入信息</em></p>
<h3 id="2-5-2-理解"><a href="#2-5-2-理解" class="headerlink" title="2.5.2. 理解"></a>2.5.2. 理解</h3><p>包含表单的组件分类</p>
<p>\1.   受控组件</p>
<p>\2.   非受控组件</p>
<h2 id="2-6-组件的生命周期"><a href="#2-6-组件的生命周期" class="headerlink" title="2.6. 组件的生命周期"></a>2.6. 组件的生命周期</h2><h3 id="2-6-1-效果"><a href="#2-6-1-效果" class="headerlink" title="2.6.1. 效果"></a>2.6.1. 效果</h3><p><em>需求</em>*:*<em>定义组件实现以下功能：</em></p>
<p> <em>1.</em> <em>让指定的文本做显示</em> <em>&#x2F;</em> <em>隐藏的渐变动画</em></p>
<p> <em>2.</em> <em>从完全可见，到彻底消失，耗时**2S</em></p>
<p> <em>3.</em> <em>点击“不活了”按钮从界面中卸载组件</em></p>
<h3 id="2-6-2-理解"><a href="#2-6-2-理解" class="headerlink" title="2.6.2. 理解"></a>2.6.2. 理解</h3><p>\1.   组件从创建到死亡它会经历一些特定的阶段。</p>
<p>\2.   React组件中包含一系列勾子函数(生命周期回调函数), 会在特定的时刻调用。</p>
<p>\3.   我们在定义组件时，会在特定的生命周期回调函数中，做特定的工作。</p>
<h3 id="2-6-3-生命周期流程图-旧"><a href="#2-6-3-生命周期流程图-旧" class="headerlink" title="2.6.3. 生命周期流程图(旧)"></a>2.6.3. 生命周期流程图(旧)</h3><p>生命周期的三个阶段（旧）</p>
<p>   <strong>1.</strong> <strong>初始化阶段:</strong> 由ReactDOM.render()触发—初次渲染</p>
<p>\1.   constructor()</p>
<p>\2.   componentWillMount()</p>
<p>\3.   render()</p>
<p>\4.   componentDidMount()</p>
<p>   <strong>2.</strong> <strong>更新阶段:</strong> 由组件内部this.setSate()或父组件重新render触发</p>
<p>\1.   shouldComponentUpdate()</p>
<p>\2.   componentWillUpdate()</p>
<p>\3.   render()</p>
<p>\4.   componentDidUpdate()</p>
<p>​    <strong>3.</strong> <strong>卸载组件:</strong> 由ReactDOM.unmountComponentAtNode()触发</p>
<p>\1.   componentWillUnmount()</p>
<h3 id="2-6-4-生命周期流程图-新"><a href="#2-6-4-生命周期流程图-新" class="headerlink" title="2.6.4. 生命周期流程图(新)"></a>2.6.4. 生命周期流程图(新)</h3><p>生命周期的三个阶段（新）</p>
<p><strong>1.</strong> <strong>初始化阶段:</strong> 由ReactDOM.render()触发—初次渲染</p>
<p>\1.   constructor()</p>
<p><strong>2.</strong>   <strong>getDerivedStateFromProps</strong> </p>
<p>\3.   render()</p>
<p>\4.   componentDidMount()</p>
<p>   <strong>2.</strong> <strong>更新阶段:</strong> 由组件内部this.setSate()或父组件重新render触发</p>
<p><strong>1.</strong>   <strong>getDerivedStateFromProps</strong></p>
<p>\2.   shouldComponentUpdate()</p>
<p>\3.   render()</p>
<p><strong>4.</strong>   <strong>getSnapshotBeforeUpdate</strong></p>
<p>\5.   componentDidUpdate()</p>
<p>​    <strong>3.</strong> <strong>卸载组件:</strong> 由ReactDOM.unmountComponentAtNode()触发</p>
<p>\1.   componentWillUnmount()</p>
<h3 id="2-6-5-重要的勾子"><a href="#2-6-5-重要的勾子" class="headerlink" title="2.6.5. 重要的勾子"></a>2.6.5. 重要的勾子</h3><p>\1.   render：初始化渲染或更新渲染调用</p>
<p>\2.   componentDidMount：开启监听, 发送ajax请求</p>
<p>\3.   componentWillUnmount：做一些收尾工作, 如: 清理定时器</p>
<h3 id="2-6-6-即将废弃的勾子"><a href="#2-6-6-即将废弃的勾子" class="headerlink" title="2.6.6. 即将废弃的勾子"></a>2.6.6. 即将废弃的勾子</h3><p>\1.   componentWillMount</p>
<p>\2.   componentWillReceiveProps</p>
<p>\3.   componentWillUpdate</p>
<p>现在使用会出现警告，下一个大版本需要加上UNSAFE_前缀才能使用，以后可能会被彻底废弃，不建议使用。</p>
<h2 id="2-7-虚拟DOM与DOM-Diffing算法"><a href="#2-7-虚拟DOM与DOM-Diffing算法" class="headerlink" title="2.7. 虚拟DOM与DOM Diffing算法"></a>2.7. 虚拟DOM与DOM Diffing算法</h2><h3 id="2-7-1-效果"><a href="#2-7-1-效果" class="headerlink" title="2.7.1. 效果"></a>2.7.1. 效果</h3><p><em>需求：验证虚拟<strong>DOM Diffing</strong>算法的存在</em></p>
<h3 id="2-7-2-基本原理图"><a href="#2-7-2-基本原理图" class="headerlink" title="2.7.2. 基本原理图"></a>2.7.2. 基本原理图</h3><p>第3章：React应用(基于React脚手架)</p>
<h2 id="3-1-使用create-react-app创建react应用"><a href="#3-1-使用create-react-app创建react应用" class="headerlink" title="3.1. 使用create-react-app创建react应用"></a>3.1. 使用create-react-app创建react应用</h2><h3 id="3-1-1-react脚手架"><a href="#3-1-1-react脚手架" class="headerlink" title="3.1.1. react脚手架"></a>3.1.1. react脚手架</h3><p>\1.   xxx脚手架: 用来帮助程序员快速创建一个基于xxx库的模板项目</p>
<p>\1.   包含了所有需要的配置（语法检查、jsx编译、devServer…）</p>
<p>\2.   下载好了所有相关的依赖</p>
<p>\3.   可以直接运行一个简单效果</p>
<p>\2.   react提供了一个用于创建react项目的脚手架库: create-react-app</p>
<p>\3.   项目的整体技术架构为: react + webpack + es6 + eslint</p>
<p>\4.   使用脚手架开发的项目的特点: 模块化, 组件化, 工程化</p>
<h3 id="3-1-2-创建项目并启动"><a href="#3-1-2-创建项目并启动" class="headerlink" title="3.1.2. 创建项目并启动"></a>3.1.2. 创建项目并启动</h3><p><strong>第一步</strong>，全局安装：npm i -g create-react-app</p>
<p><strong>第二步</strong>，切换到想创项目的目录，使用命令：create-react-app hello-react</p>
<p><strong>第三步</strong>，进入项目文件夹：cd hello-react</p>
<p><strong>第四步</strong>，启动项目：npm start</p>
<h3 id="3-1-3-react脚手架项目结构"><a href="#3-1-3-react脚手架项目结构" class="headerlink" title="3.1.3. react脚手架项目结构"></a>3.1.3. react脚手架项目结构</h3><p> public —- 静态资源文件夹</p>
<p>​            favicon.icon —— 网站页签图标</p>
<p>​            <strong>index.html ——–</strong> <strong>主页面</strong></p>
<p>​            logo192.png ——- logo图</p>
<p>​            logo512.png ——- logo图</p>
<p>​            manifest.json —– 应用加壳的配置文件</p>
<p>​            robots.txt ——– 爬虫协议文件</p>
<p>src —- 源码文件夹</p>
<p>​            App.css ——– App组件的样式</p>
<p>​            <strong>App.js ——— App****组件</strong></p>
<p>​            App.test.js —- 用于给App做测试</p>
<p>​            index.css —— 样式</p>
<p>​            <strong>index.js ——-</strong> <strong>入口文件</strong></p>
<p>​            logo.svg ——- logo图</p>
<p>​            reportWebVitals.js</p>
<p>​                    — 页面性能分析文件(需要web-vitals库的支持)</p>
<p>​            setupTests.js</p>
<p>​                    —- 组件单元测试的文件(需要jest-dom库的支持)</p>
<h3 id="3-1-4-功能界面的组件化编码流程（通用）"><a href="#3-1-4-功能界面的组件化编码流程（通用）" class="headerlink" title="3.1.4. 功能界面的组件化编码流程（通用）"></a>3.1.4. 功能界面的组件化编码流程（通用）</h3><p>\1. 拆分组件: 拆分界面,抽取组件</p>
<p>\2. 实现静态组件: 使用组件实现静态页面效果</p>
<p>\3. 实现动态组件</p>
<p>3.1 动态显示初始化数据</p>
<p>3.1.1 数据类型</p>
<p>3.1.2 数据名称</p>
<p>3.1.2 保存在哪个组件?</p>
<p>3.2 交互(从绑定事件监听开始)</p>
<h2 id="3-2-组件的组合使用-TodoList"><a href="#3-2-组件的组合使用-TodoList" class="headerlink" title="3.2. 组件的组合使用-TodoList"></a>3.2. 组件的组合使用-TodoList</h2><p><em>功能</em><em>:</em> <em>组件化实现此功能</em></p>
<p> <em>1.</em> <em>显示所有<strong>todo</strong>列表</em></p>
<p> <em>2.</em> <em>输入文本</em><em>,</em> <em>点击按钮显示到列表的首位</em><em>,</em> <em>并清除输入的文本</em></p>
<p>第4章：React ajax</p>
<h2 id="4-1-理解"><a href="#4-1-理解" class="headerlink" title="4.1. 理解"></a>4.1. 理解</h2><h3 id="4-1-1-前置说明"><a href="#4-1-1-前置说明" class="headerlink" title="4.1.1. 前置说明"></a>4.1.1. 前置说明</h3><p>\1.   React本身只关注于界面, 并不包含发送ajax请求的代码</p>
<p>\2.   前端应用需要通过ajax请求与后台进行交互(json数据)</p>
<p>\3.   react应用中需要集成第三方ajax库(或自己封装)</p>
<h3 id="4-1-2-常用的ajax请求库"><a href="#4-1-2-常用的ajax请求库" class="headerlink" title="4.1.2. 常用的ajax请求库"></a>4.1.2. 常用的ajax请求库</h3><p>\1.   jQuery: 比较重, 如果需要另外引入不建议使用</p>
<p>\2.   axios: 轻量级, 建议使用</p>
<p>\1)   封装XmlHttpRequest对象的ajax</p>
<p>\2)    promise风格</p>
<p>\3)   可以用在浏览器端和node服务器端</p>
<h2 id="4-2-axios"><a href="#4-2-axios" class="headerlink" title="4.2. axios"></a>4.2. axios</h2><h3 id="4-2-1-文档"><a href="#4-2-1-文档" class="headerlink" title="4.2.1. 文档"></a>4.2.1. 文档</h3><p><a target="_blank" rel="noopener" href="https://github.com/axios/axios">https://github.com/axios/axios</a></p>
<h3 id="4-2-2-相关API"><a href="#4-2-2-相关API" class="headerlink" title="4.2.2. 相关API"></a>4.2.2. 相关API</h3><p>\1)   GET请求</p>
<p>  axios.get(‘&#x2F;user?ID&#x3D;12345’)   .then(function (response) {    console.log(response.data);   })   .catch(function (error) {    console.log(error);   });     axios.get(‘&#x2F;user’, {    params: {     ID: 12345    }   })   .then(function (response) {    console.log(response);   })   .catch(function (error) {    console.log(error);   });  </p>
<p>\2)   POST请求</p>
<p>  axios.post(‘&#x2F;user’, {   firstName: ‘Fred’,   lastName: ‘Flintstone’  })  .then(function (response) {  console.log(response);  })  .catch(function (error) {  console.log(error);  });  </p>
<h2 id="4-3-案例—github用户搜索"><a href="#4-3-案例—github用户搜索" class="headerlink" title="4.3. 案例—github用户搜索"></a>4.3. 案例—github用户搜索</h2><h3 id="4-3-1-效果"><a href="#4-3-1-效果" class="headerlink" title="4.3.1. 效果"></a>4.3.1. 效果</h3><p>请求地址: <a target="_blank" rel="noopener" href="https://api.github.com/search/users?q=xxxxxx">https://api.github.com/search/users?q=xxxxxx</a></p>
<h2 id="4-4-消息订阅-发布机制"><a href="#4-4-消息订阅-发布机制" class="headerlink" title="4.4. 消息订阅-发布机制"></a>4.4. 消息订阅-发布机制</h2><p>\1.   工具库: PubSubJS</p>
<p>\2.   下载: npm install pubsub-js –save</p>
<p>\3.   使用: </p>
<p>\1)   import PubSub from ‘pubsub-js’ &#x2F;&#x2F;引入</p>
<p>\2)   PubSub.subscribe(‘delete’, function(data){ }); &#x2F;&#x2F;订阅</p>
<p>\3)   PubSub.publish(‘delete’, data) &#x2F;&#x2F;发布消息</p>
<h2 id="4-5-扩展：Fetch"><a href="#4-5-扩展：Fetch" class="headerlink" title="4.5. 扩展：Fetch"></a>4.5. 扩展：Fetch</h2><h3 id="4-5-1-文档"><a href="#4-5-1-文档" class="headerlink" title="4.5.1. 文档"></a>4.5.1. 文档</h3><p>\1.   <a target="_blank" rel="noopener" href="https://github.github.io/fetch/">https://github.github.io/fetch/</a></p>
<p>\2.   <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000003810652">https://segmentfault.com/a/1190000003810652</a></p>
<h3 id="4-5-2-特点"><a href="#4-5-2-特点" class="headerlink" title="4.5.2. 特点"></a>4.5.2. 特点</h3><p>\1.   fetch: 原生函数，不再使用XmlHttpRequest对象提交ajax请求</p>
<p>\2.   老版本浏览器可能不支持</p>
<h3 id="4-5-3-相关API"><a href="#4-5-3-相关API" class="headerlink" title="4.5.3. 相关API"></a>4.5.3. 相关API</h3><p>\1)   GET请求</p>
<p>  fetch(url).then(function(response) {    return response.json()   }).then(function(data) {    console.log(data)   }).catch(function(e) {    console.log(e)   });  </p>
<p>\2)   POST请求</p>
<p>   fetch(url, {    method: “POST”,    body: JSON.stringify(data),   }).then(function(data) {    console.log(data)   }).catch(function(e) {    console.log(e)   })  </p>
<p>第5章：React路由</p>
<h2 id="5-1-相关理解"><a href="#5-1-相关理解" class="headerlink" title="5.1. 相关理解"></a>5.1. 相关理解</h2><h3 id="5-1-1-SPA的理解"><a href="#5-1-1-SPA的理解" class="headerlink" title="5.1.1. SPA的理解"></a>5.1.1. SPA的理解</h3><p>\1.   单页Web应用（single page web application，SPA）。</p>
<p>\2.   整个应用只有<strong>一个完整的页面</strong>。</p>
<p>\3.   点击页面中的链接<strong>不会刷新</strong>页面，只会做页面的<strong>局部更新。</strong></p>
<p>\4.   数据都需要通过ajax请求获取, 并在前端异步展现。</p>
<h3 id="5-1-2-路由的理解"><a href="#5-1-2-路由的理解" class="headerlink" title="5.1.2. 路由的理解"></a>5.1.2. 路由的理解</h3><p><strong>1.</strong>   <strong>什么是路由?</strong></p>
<p>\1.   一个路由就是一个映射关系(key:value)</p>
<p>\2.   key为路径, value可能是function或component</p>
<p><strong>2.</strong>   <strong>路由分类</strong></p>
<p>\1.   后端路由：</p>
<p>\1)   理解： value是function, 用来处理客户端提交的请求。</p>
<p>\2)   注册路由： router.get(path, function(req, res))</p>
<p>\3)   工作过程：当node接收到一个请求时, 根据请求路径找到匹配的路由, 调用路由中的函数来处理请求, 返回响应数据</p>
<p>\2.   前端路由：</p>
<p>\1)   浏览器端路由，value是component，用于展示页面内容。</p>
<p>\2)   注册路由: <Route path="/test" component={Test}></p>
<p>\3)   工作过程：当浏览器的path变为&#x2F;test时, 当前路由组件就会变为Test组件</p>
<h3 id="5-1-3-react-router-dom的理解"><a href="#5-1-3-react-router-dom的理解" class="headerlink" title="5.1.3. react-router-dom的理解"></a>5.1.3. react-router-dom的理解</h3><p>\1.   react的一个插件库。</p>
<p>\2.   专门用来实现一个SPA应用。</p>
<p>\3.   基于react的项目基本都会用到此库。</p>
<h2 id="5-2-react-router-dom相关API"><a href="#5-2-react-router-dom相关API" class="headerlink" title="5.2. react-router-dom相关API"></a>5.2. react-router-dom相关API</h2><h3 id="5-2-1-内置组件"><a href="#5-2-1-内置组件" class="headerlink" title="5.2.1. 内置组件"></a>5.2.1. 内置组件</h3><p>\1.   <BrowserRouter></p>
<p>\2.   <HashRouter></p>
<p>\3.   <Route></p>
<p>\4.   <Redirect></p>
<p>\5.   <Link></p>
<p>\6.   <NavLink></p>
<p>\7.   <Switch></p>
<h3 id="5-2-2-其它"><a href="#5-2-2-其它" class="headerlink" title="5.2.2. 其它"></a>5.2.2. 其它</h3><p>\1.   history对象</p>
<p>\2.   match对象</p>
<p>\3.   withRouter函数</p>
<h2 id="5-3-基本路由使用"><a href="#5-3-基本路由使用" class="headerlink" title="5.3. 基本路由使用"></a>5.3. 基本路由使用</h2><h3 id="5-3-1-效果"><a href="#5-3-1-效果" class="headerlink" title="5.3.1. 效果"></a>5.3.1. 效果</h3><h3 id="5-3-2-准备"><a href="#5-3-2-准备" class="headerlink" title="5.3.2. 准备"></a>5.3.2. 准备</h3><p>\1.   下载react-router-dom: npm install –save react-router-dom</p>
<p>\2.   引入bootstrap.css: <link rel="stylesheet" href="/css/bootstrap.css"></p>
<h2 id="5-4-嵌套路由使用"><a href="#5-4-嵌套路由使用" class="headerlink" title="5.4. 嵌套路由使用"></a>5.4. 嵌套路由使用</h2><h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><h2 id="5-5-向路由组件传递参数数据"><a href="#5-5-向路由组件传递参数数据" class="headerlink" title="5.5. 向路由组件传递参数数据"></a>5.5. 向路由组件传递参数数据</h2><h3 id="效果-1"><a href="#效果-1" class="headerlink" title="效果"></a>效果</h3><h2 id="5-6-多种路由跳转方式"><a href="#5-6-多种路由跳转方式" class="headerlink" title="5.6. 多种路由跳转方式"></a>5.6. 多种路由跳转方式</h2><h3 id="效果-2"><a href="#效果-2" class="headerlink" title="效果"></a>效果</h3><p>第6章：React UI组件库</p>
<h2 id="6-1-流行的开源React-UI组件库"><a href="#6-1-流行的开源React-UI组件库" class="headerlink" title="6.1.流行的开源React UI组件库"></a>6.1.流行的开源React UI组件库</h2><h3 id="6-1-1-material-ui-国外"><a href="#6-1-1-material-ui-国外" class="headerlink" title="6.1.1. material-ui(国外)"></a>6.1.1. material-ui(国外)</h3><p>\1.   官网: <a target="_blank" rel="noopener" href="http://www.material-ui.com/#/">http://www.material-ui.com/#/</a></p>
<p>\2.   github: <a target="_blank" rel="noopener" href="https://github.com/callemall/material-ui">https://github.com/callemall/material-ui</a></p>
<h3 id="6-1-2-ant-design-国内蚂蚁金服"><a href="#6-1-2-ant-design-国内蚂蚁金服" class="headerlink" title="6.1.2. ant-design(国内蚂蚁金服)"></a>6.1.2. ant-design(国内蚂蚁金服)</h3><p>\1.   官网: <a target="_blank" rel="noopener" href="https://ant.design/index-cn">https://ant.design/index-cn</a></p>
<p>\2.   Github: <a target="_blank" rel="noopener" href="https://github.com/ant-design/ant-design/">https://github.com/ant-design/ant-design/</a></p>
<p>第7章：redux</p>
<h2 id="7-1-redux理解"><a href="#7-1-redux理解" class="headerlink" title="7.1. redux理解"></a>7.1. redux理解</h2><h3 id="7-1-1-学习文档"><a href="#7-1-1-学习文档" class="headerlink" title="7.1.1. 学习文档"></a>7.1.1. 学习文档</h3><p>\1.   英文文档: <a target="_blank" rel="noopener" href="https://redux.js.org/">https://redux.js.org/</a></p>
<p>\2.   中文文档: <a target="_blank" rel="noopener" href="http://www.redux.org.cn/">http://www.redux.org.cn/</a></p>
<p>\3.   Github: <a target="_blank" rel="noopener" href="https://github.com/reactjs/redux">https://github.com/reactjs/redux</a></p>
<h3 id="7-1-2-redux是什么"><a href="#7-1-2-redux是什么" class="headerlink" title="7.1.2. redux是什么"></a>7.1.2. redux是什么</h3><p>\1.   redux是一个专门用于做<strong>状态管理</strong>的JS库(不是react插件库)。</p>
<p>\2.   它可以用在react, angular, vue等项目中, 但基本与react配合使用。</p>
<p>\3.   作用: 集中式管理react应用中多个组件<strong>共享</strong>的状态。</p>
<h3 id="7-1-3-什么情况下需要使用redux"><a href="#7-1-3-什么情况下需要使用redux" class="headerlink" title="7.1.3. 什么情况下需要使用redux"></a>7.1.3. 什么情况下需要使用redux</h3><p>\1.   某个组件的状态，需要让其他组件可以随时拿到（共享）。</p>
<p>\2.   一个组件需要改变另一个组件的状态（通信）。</p>
<p>\3.   总体原则：能不用就不用, 如果不用比较吃力才考虑使用。</p>
<h3 id="7-1-4-redux工作流程"><a href="#7-1-4-redux工作流程" class="headerlink" title="7.1.4. redux工作流程"></a>7.1.4. redux工作流程</h3><h2 id="7-2-redux的三个核心概念"><a href="#7-2-redux的三个核心概念" class="headerlink" title="7.2. redux的三个核心概念"></a>7.2. redux的三个核心概念</h2><h3 id="7-2-1-action"><a href="#7-2-1-action" class="headerlink" title="7.2.1. action"></a>7.2.1. action</h3><p>\1.   动作的对象</p>
<p>\2.   包含2个属性</p>
<p>l type：标识属性, 值为字符串, 唯一, 必要属性</p>
<p>l data：数据属性, 值类型任意, 可选属性</p>
<p>\3.   例子：{ type: ‘ADD_STUDENT’,data:{name: ‘tom’,age:18} }</p>
<h3 id="7-2-2-reducer"><a href="#7-2-2-reducer" class="headerlink" title="7.2.2. reducer"></a>7.2.2. reducer</h3><p>\1.   用于初始化状态、加工状态。</p>
<p>\2.   加工时，根据旧的state和action， 产生新的state的<strong>纯函数****。</strong></p>
<h3 id="7-2-3-store"><a href="#7-2-3-store" class="headerlink" title="7.2.3. store"></a>7.2.3. store</h3><p>\1.   将state、action、reducer联系在一起的对象</p>
<p>\2.   如何得到此对象?</p>
<p>\1)   import {createStore} from ‘redux’</p>
<p>\2)   import reducer from ‘.&#x2F;reducers’</p>
<p>\3)   const store &#x3D; createStore(reducer)</p>
<p>\3.   此对象的功能?</p>
<p>\1)   getState(): 得到state</p>
<p>\2)   dispatch(action): 分发action, 触发reducer调用, 产生新的state</p>
<p>\3)   subscribe(listener): 注册监听, 当产生了新的state时, 自动调用</p>
<h2 id="7-3-redux的核心API"><a href="#7-3-redux的核心API" class="headerlink" title="7.3. redux的核心API"></a>7.3. redux的核心API</h2><h3 id="7-3-1-createstore"><a href="#7-3-1-createstore" class="headerlink" title="7.3.1. createstore()"></a>7.3.1. createstore()</h3><p>作用：创建包含指定reducer的store对象</p>
<h3 id="7-3-2-store对象"><a href="#7-3-2-store对象" class="headerlink" title="7.3.2. store对象"></a>7.3.2. store对象</h3><p>\1.   作用: redux库最核心的管理对象</p>
<p>\2.   它内部维护着:</p>
<p>\1)   state</p>
<p>\2)   reducer</p>
<p>\3.   核心方法:</p>
<p>\1)   getState()</p>
<p>\2)   dispatch(action)</p>
<p>\3)   subscribe(listener)</p>
<p>\4.   具体编码:</p>
<p>\1)   store.getState()</p>
<p>\2)   store.dispatch({type:’INCREMENT’, number})</p>
<p>\3)   store.subscribe(render)</p>
<h3 id="7-3-3-applyMiddleware"><a href="#7-3-3-applyMiddleware" class="headerlink" title="7.3.3. applyMiddleware()"></a>7.3.3. applyMiddleware()</h3><p>作用：应用上基于redux的中间件(插件库)</p>
<h3 id="7-3-4-combineReducers"><a href="#7-3-4-combineReducers" class="headerlink" title="7.3.4. combineReducers()"></a>7.3.4. combineReducers()</h3><p>作用：合并多个reducer函数</p>
<h2 id="7-4-使用redux编写应用"><a href="#7-4-使用redux编写应用" class="headerlink" title="7.4. 使用redux编写应用"></a>7.4. 使用redux编写应用</h2><p>  <strong>效果</strong></p>
<h2 id="7-5-redux异步编程"><a href="#7-5-redux异步编程" class="headerlink" title="7.5. redux异步编程"></a>7.5. redux异步编程</h2><h3 id="7-5-1理解："><a href="#7-5-1理解：" class="headerlink" title="7.5.1理解："></a>7.5.1理解：</h3><p>\1.   redux默认是不能进行异步处理的,</p>
<p>\2.   某些时候应用中需要在<strong>redux****中执行异步任务</strong>(ajax, 定时器)</p>
<h3 id="7-5-2-使用异步中间件"><a href="#7-5-2-使用异步中间件" class="headerlink" title="7.5.2. 使用异步中间件"></a>7.5.2. 使用异步中间件</h3><p>npm install –save redux-thunk</p>
<h2 id="7-6-react-redux"><a href="#7-6-react-redux" class="headerlink" title="7.6. react-redux"></a>7.6. react-redux</h2><h3 id="7-6-1-理解"><a href="#7-6-1-理解" class="headerlink" title="7.6.1. 理解"></a>7.6.1. 理解</h3><p>\1.   一个react插件库</p>
<p>\2.   专门用来简化react应用中使用redux</p>
<h3 id="7-6-2-react-Redux将所有组件分成两大类"><a href="#7-6-2-react-Redux将所有组件分成两大类" class="headerlink" title="7.6.2. react-Redux将所有组件分成两大类"></a>7.6.2. react-Redux将所有组件分成两大类</h3><p>\1.   UI组件</p>
<p>\1)   只负责 UI 的呈现，不带有任何业务逻辑</p>
<p>\2)   通过props接收数据(一般数据和函数)</p>
<p>\3)   不使用任何 Redux 的 API</p>
<p>\4)   一般保存在components文件夹下</p>
<p>\2.   容器组件</p>
<p>\1)   负责管理数据和业务逻辑，不负责UI的呈现</p>
<p>\2)   使用 Redux 的 API</p>
<p>\3)   一般保存在containers文件夹下</p>
<h3 id="7-6-3-相关API"><a href="#7-6-3-相关API" class="headerlink" title="7.6.3. 相关API"></a>7.6.3. 相关API</h3><p>\1.   Provider：让所有组件都可以得到state数据</p>
<p>​     </p>
<p>​        <strong>&lt;****Provider** **store****&#x3D;****{****store****}****&gt;</strong>     <strong>&lt;****App** **&#x2F;&gt;</strong>    <strong>&lt;&#x2F;****Provider****&gt;</strong>        </p>
<p>\2.   connect：用于包装 UI 组件生成容器组件</p>
<p>​     </p>
<p>​        <strong>import</strong> <strong>{</strong> <strong>connect</strong> <strong>}</strong> <strong>from</strong> <strong>‘react-redux’</strong>     <strong>connect</strong><strong>(</strong>      <strong>mapStateToprops</strong><strong>,</strong>      <strong>mapDispatchToProps</strong>     <strong>)(<strong><strong>Counter</strong></strong>)</strong>        </p>
<p>\3.   mapStateToprops：将外部的数据（即state对象）转换为UI组件的标签属性</p>
<p>​     </p>
<p>​        <strong>const</strong> <strong>mapStateToprops</strong> <strong>&#x3D;</strong> <strong>function</strong> <strong>(<strong><strong>state</strong></strong>) {</strong>     <strong>return</strong> <strong>{</strong>      <strong>value:</strong> <strong>state</strong>     <strong>}</strong>    <strong>}</strong>        </p>
<p>\4.   mapDispatchToProps：将分发action的函数转换为UI组件的标签属性</p>
<h2 id="7-7-使用上redux调试工具"><a href="#7-7-使用上redux调试工具" class="headerlink" title="7.7. 使用上redux调试工具"></a>7.7. 使用上redux调试工具</h2><h3 id="7-7-1-安装chrome浏览器插件"><a href="#7-7-1-安装chrome浏览器插件" class="headerlink" title="7.7.1. 安装chrome浏览器插件"></a>7.7.1. 安装chrome浏览器插件</h3><h3 id="7-7-2-下载工具依赖包"><a href="#7-7-2-下载工具依赖包" class="headerlink" title="7.7.2. 下载工具依赖包"></a>7.7.2. 下载工具依赖包</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">npm <span class="hljs-keyword">install </span>--save-dev redux-devtools-<span class="hljs-keyword">extension</span><br><span class="hljs-keyword"></span> <br></code></pre></td></tr></table></figure>

<h2 id="7-8-纯函数和高阶函数"><a href="#7-8-纯函数和高阶函数" class="headerlink" title="7.8. 纯函数和高阶函数"></a>7.8. 纯函数和高阶函数</h2><h3 id="7-8-1-纯函数"><a href="#7-8-1-纯函数" class="headerlink" title="7.8.1. 纯函数"></a>7.8.1. 纯函数</h3><p>\1.   一类特别的函数: 只要是同样的输入(实参)，必定得到同样的输出(返回)</p>
<p>\2.   必须遵守以下一些约束 </p>
<p>\1)   不得改写参数数据</p>
<p>\2)   不会产生任何副作用，例如网络请求，输入和输出设备</p>
<p>\3)   不能调用Date.now()或者Math.random()等不纯的方法 </p>
<p>\3.   redux的reducer函数必须是一个纯函数</p>
<h3 id="7-8-2-高阶函数"><a href="#7-8-2-高阶函数" class="headerlink" title="7.8.2. 高阶函数"></a>7.8.2. 高阶函数</h3><p>\1.   理解: 一类特别的函数</p>
<p>\1)   情况1: 参数是函数</p>
<p>\2)   情况2: 返回是函数</p>
<p>\2.   常见的高阶函数: </p>
<p>\1)   定时器设置函数</p>
<p>\2)   数组的forEach()&#x2F;map()&#x2F;filter()&#x2F;reduce()&#x2F;find()&#x2F;bind()</p>
<p>\3)   promise</p>
<p>\4)   react-redux中的connect函数</p>
<p>\3.   作用: 能实现更加动态, 更加可扩展的功能</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>React基础</div>
      <div>http://messiahnb.github.io/2024/07/28/React基础/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Messiah</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年7月28日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/01/18/Apollo%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE/" title="Apollo基础配置">
                        <span class="hidden-mobile">Apollo基础配置</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
